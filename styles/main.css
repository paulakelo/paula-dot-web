@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    /* styles/main.css   Global variables and helpers (palette, utilities, layout) */
    :root {
        /* ===========================================
           2025 PROFESSIONAL DARK MODE PALETTE
           =========================================== */

        /* Core Palette */
        --bg-primary: #1C1C1C;
        --text-primary: #F4F4F4;
        --surface-secondary: #D4C5B0;
        /* Primary accent shifted to a more vibrant amber/burnt-orange for better contrast */
        --accent-primary: #C47E1C; /* Amber (semantic primary CTA) */

        /* Semantic double split-complementary palette
           - amber: primary CTA
           - green, cyan, blue, magenta: categorical accents
        */
        --sem-amber: #C47E1C; /* Primary CTA */
        --sem-green:  #1CC47E; /* Category: Green */
        --sem-cyan:   #1CB6C4; /* Category: Cyan/Teal */
        /* NOTE: original sem-blue (#1C62C4) failed WCAG contrast against dark background.
           Replaced by an AA-accessible variant below. AAA candidate is provided as fallback. */
        --sem-blue:   #4A85D9; /* adjusted for WCAG AA (contrast ~4.58) */
        --sem-blue-aaa: #81AAE4; /* AAA candidate (contrast ~7.14) */
        /* NOTE: original sem-magenta (#C41C62) failed WCAG contrast against dark background.
           Replaced by an AA-accessible variant below. AAA candidate is provided as fallback. */
        --sem-magenta:#EC3C85; /* adjusted for WCAG AA (contrast ~4.51) */
        --sem-magenta-aaa: #E78DB3; /* AAA candidate (contrast ~7.19) */

        /* HSL variants for compatibility (legacy references) */
        /* Keep existing primary HSL as-is to avoid surprising global shifts; adjust only if desired later */
        --primary: 35 92% 50%; /* approximate amber HSL (kept for compatibility) */
        --primary-light: 35 96% 62%;
        --primary-dark: 35 85% 40%;
        --primary-muted: 35 40% 16%;

        /* Mirror for accent utilities (keeps naming consistent) */
        --accent: 35 92% 50%;
        --accent-light: 35 96% 62%;
        --accent-dark: 35 85% 40%;
        --accent-muted: 35 32% 18%;

        /* Secondary accent for sparse highlights (muted sage/teal) */
        --accent-secondary: #7FBF9A; /* muted sage */
        --accent-secondary-hsl: 140 25% 60%;

        /* Text colors */
        --text-primary-hsl: 0 0% 96%; /* #F4F4F4 */
        --text-secondary: 0 0% 80%;
        --text-muted: 0 0% 60%;
        --text-inverted: 0 0% 11%; /* #1C1C1C */

        /* Surface colors */
        --surface: 0 0% 11%;
        --surface-raised: 0 0% 15%;
        --surface-sunken: 0 0% 8%;
        --surface-card: 38 20% 76%; /* #D4C5B0 */

        /* Borders */
        --border: 0 0% 20%;
        --border-light: 0 0% 25%;
        --border-focus: 35 92% 50%;

        /* Legacy map tones (remapped) */
        --map-water: 35 92% 50%;
        --map-water-deep: 0 0% 8%;
        --map-forest: 0 0% 15%;
        --map-moss: 0 0% 18%;
        --map-fern: 140 25% 60%; /* uses accent-secondary-hsl */
        --map-sand: 38 20% 76%;
        --map-stone: 0 0% 35%;
        --map-muted: 0 0% 55%;
        --map-ink: 0 0% 96%;
        --map-paper: 0 0% 11%;
        --brand-black: 0 0% 8%;
        --brand-gold: 35 92% 50%;
    }

    /* Small helpers / preview swatches */
    .palette-row {
        display: flex;
        gap: 0.5rem;
        align-items: center;
        flex-wrap: wrap;
        margin: 0.5rem 0;
    }

    .palette-swatch {
        width: 40px;
        height: 28px;
        border-radius: 6px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(0, 0, 0, 0.06);
    }

    /* Utility classes for quick use */
    .bg-water {
        background-color: hsl(var(--map-water));
        color: white;
    }

    .bg-forest {
        background-color: hsl(var(--map-forest));
        color: white;
    }

    .bg-moss {
        background-color: hsl(var(--map-moss));
        color: white;
    }

    .bg-sand {
        background-color: hsl(var(--map-sand));
        color: var(--map-ink);
    }

    .text-stone {
        color: hsl(var(--map-stone));
    }

    .text-water-deep {
        color: hsl(var(--map-water-deep));
    }

    .text-black-strong {
        color: hsl(var(--brand-black));
    }

    /* Primary color utilities (teal) */
    .text-primary-color {
        color: hsl(var(--primary));
    }

    .bg-primary {
        background-color: hsl(var(--primary));
        color: white;
    }

    .bg-primary-light {
        background-color: hsl(var(--primary-light));
        color: white;
    }

    .bg-primary-muted {
        background-color: hsl(var(--primary-muted));
    }

    .border-primary {
        border-color: hsl(var(--primary));
    }

    /* Accent color utilities (coral) */
    .text-accent {
        color: hsl(var(--accent));
    }

    .text-accent-light {
        color: hsl(var(--accent-light));
    }

    .text-accent-dark {
        color: hsl(var(--accent-dark));
    }

    .bg-accent {
        background-color: hsl(var(--accent));
        color: white;
    }

    .bg-accent-subtle {
        background-color: hsl(var(--accent-muted));
    }

    .bg-accent-dark {
        background-color: hsl(var(--accent-dark));
        color: white;
    }

    .border-accent {
        border-color: hsl(var(--accent));
    }

    .border-accent-subtle {
        border-color: hsl(var(--accent) / 0.25);
    }

    /* Accent hover effects */
    .hover\:bg-accent:hover {
        background-color: hsl(var(--accent));
        color: white;
    }

    .hover\:text-accent:hover {
        color: hsl(var(--accent));
    }

    .underline-accent-hover:hover {
        text-decoration: underline;
        text-decoration-color: hsl(var(--accent));
        text-decoration-thickness: 2px;
    }

    /* Consistent text color utilities */
    .text-primary {
        color: var(--text-primary);
    }

    .text-secondary {
        color: hsl(var(--text-secondary));
    }

    .text-muted {
        color: hsl(var(--text-muted));
    }

    .text-inverted {
        color: var(--bg-primary);
    }


    /* Component/page-specific styles moved:
       - Header -> src/components/Header.css
       - Buttons -> src/components/Button.css
       - Home hero -> src/pages/HomePage.css
       - Projects listing & cards -> src/pages/ProjectsPage.css
       - Contact form controls -> src/pages/ContactPage.css
    */

    /* Example usage (commented):
    .hero { background: linear-gradient(135deg, hsl(var(--map-water)), hsl(var(--map-fern))); }
    .btn--primary { background-color: hsl(var(--map-water-deep)); color: white; }
    */

    * {
        margin: 0;
        padding: 0;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        box-sizing: border-box;
        color: var(--text-primary);
    }

    /* Typography base styles - 2025 dark mode */
    h1, h2, h3, h4, h5, h6 {
        font-weight: 700;
        line-height: 1.2;
        letter-spacing: -0.02em;
        color: var(--text-primary);
    }

    h1 {
        font-weight: 800;
    }

    h2 {
        font-weight: 700;
    }

    p, span, li {
        font-weight: 500;
        line-height: 1.6;
        color: hsl(var(--text-secondary));
    }

    a {
        font-weight: 500;
        line-height: 1.6;
        color: var(--accent-primary);
        text-decoration: none;
        transition: color 0.2s ease;
    }

    a:hover {
        color: hsl(var(--primary-light));
    }

    button {
        font-family: inherit;
        background: var(--accent-primary);
        color: var(--bg-primary);
        border: none;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    button:hover {
        background: hsl(var(--primary-dark));
    }

    strong, b {
        font-weight: 700;
    }

    html {
        max-width: 100%;
        overflow-x: hidden;
        overflow-y: auto;
        overscroll-behavior: none;
        scroll-behavior: smooth;
    }

    html, body, #root {
        height: 100%;
    }

    /* Make the React root a column flex container so header/main/footer inside it can be arranged vertically.
       This ensures pages that render Header, main, Footer as siblings will allow `main` to grow and push the footer down. */
    #root {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        position: relative;
        z-index: 0;
    }

    /* Homepage uses an inner wrapper `.page-root`; make it expand as well so its inner <main> can grow and push footer. */
    .page-root {
        display: flex;
        flex-direction: column;
        flex: 1 0 auto;
        min-height: 0; /* allow children to scroll when overflowing */
        position: relative;
        z-index: 1;
    }

    body {
        min-height: 100vh;
        max-width: 100%;
        display: flex;
        flex-direction: column;
        position: relative;
        background-color: var(--bg-primary);
        overflow-x: hidden;
        overflow-y: auto;
        overscroll-behavior: none;
    }

    /* Subtle background texture */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: -1;
        pointer-events: none;
        background:
            radial-gradient(ellipse at 20% 0%, rgba(191, 158, 11, 0.03) 0%, transparent 50%),
            radial-gradient(ellipse at 80% 100%, rgba(212, 197, 176, 0.02) 0%, transparent 50%);
    }

    body::after {
        display: none;
    }

    /* make main grow to fill available space between header and footer */
    main {
        flex: 1 0 auto;
        display: flex;
        flex-direction: column;
    }

    main.page,
    .page {
        flex: 1 0 auto;
        min-height: 0;
        background: transparent;
        color: inherit;
    }

    /* Shared page inner container: centralizes max-width and page padding so all pages use the same spacing.
       Use by adding `page page-inner <page-name>` on the <main> element or by applying `page-inner` to a child wrapper. */
    /* If you want slightly more top spacing globally, edit .page-inner { padding-top: X } in styles/main.css */
    .page-inner {
        padding: 48px 16px;
        max-width: 1100px;
        margin: 0 auto;
    }

    .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 16px;
    }

    /* Accessibility: Reduced motion support for topographic animations */
    @media (prefers-reduced-motion: reduce) {
        body::before,
        body::after {
            animation: none;
        }
    }

    /* Responsive adjustments for topographic background */
    @media (max-width: 768px) {
        body::before,
        body::after {
            background-size:
                400px 400px,
                500px 500px,
                600px 600px,
                100% 100%;
        }
    }

}